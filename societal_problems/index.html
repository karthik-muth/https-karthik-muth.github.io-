<!DOCTYPE html>
<html class="no-js" lang="">
  <head>
    <meta charset="utf-8" />
    <title>karthik | societal_problems</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="description" content="how-to-make-a-story" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
      integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l"
      crossorigin="anonymous"
    />
    <link href="../assets/main.css" rel="stylesheet" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,300;0,400;0,500;0,600;0,700;1,200;1,300;1,400;1,500;1,600&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-0Q0JN8SCTY"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-0Q0JN8SCTY");
    </script>
  </head>

  <body>
    <script src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs@2/webcomponents-loader.min.js"></script>

    <script
      type="module"
      src="https://cdn.jsdelivr.net/gh/zerodevx/zero-md@2/dist/zero-md.min.js"
    ></script>

    <nav class="navbar navbar-expand-sm">
      <div class="container-fluid">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="../index.html">Home</a>
          </li>
        </ul>
      </div>
    </nav>
    <div class="wrapper">
      <div class="container">
        <p class="text-body-1">Swedish elections 2022</p>
        <p class="text-h2">
          Crime is the most important issue for most people - but it depends on
          who you ask
        </p>
        <br /><br />

        <div class="row justify-content-center">
          <div class="col-lg-7 col-11">
            <zero-md src="intro.md">
              <template>
                <link rel="stylesheet" href="../assets/main.css" />
              </template>
            </zero-md>
          </div>
        </div>

        <br /><br /><br />
      </div>

      <div class="container-fluid" id="root">
        <div id="scrolly__section">
          <div class="scrolly__chart">
            <iframe
              scrolling="no"
              src="https://flo.uri.sh/story/1638348/embed#slide-0"
            ></iframe>
          </div>
          <div class="scrolly__content">
            <div class="step" data-step="0">
              <div class="text-block pa-2">
                <p class="text-body-2">
                  The top five issues in Sweden are crime, healthcare,
                  Integration, environment and education.
                </p>
              </div>
            </div>
            <div class="step" data-step="1">
              <div class="text-block pa-2">
                <p class="text-body-2">
                  While crime and integration are more important for men, women
                  place more importance on education and healthcare issues. They
                  place equal importance for environment.
                </p>
              </div>
            </div>
            <div class="step" data-step="2">
              <div class="text-block pa-2">
                <p class="text-body-2">
                  For young people (in age group 16-29), environment is the most
                  important issue. Education, however was not their top five.
                </p>
              </div>
            </div>
            <div class="step" data-step="3">
              <div class="text-block pa-2">
                <p class="text-body-2">
                  and the environment is the only 5th most important issue for
                  people in the age group 30-49. They care about the integration
                  the most.
                </p>
              </div>
            </div>
            <div class="step" data-step="4">
              <div class="text-block pa-2">
                <p class="text-body-2">
                  Half of all the older respondents (in the age group 65-85)
                  believe that crime is the most important issue.
                </p>
              </div>
            </div>
            <div class="step" data-step="5">
              <div class="text-block pa-2">
                <p class="text-body-2">
                  and the people in age-group 50-64 are most similar to the
                  general population.
                </p>
              </div>
            </div>
            <div class="step" data-step="6">
              <div class="text-block pa-2">
                <p class="text-body-2">
                  People with right-leaning political ideology place the highest
                  importance on crime followed by integration in stark constrast
                  to the people leaning to the left. The opposite goes for
                  environment.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <br /><br /><br /><br />

      <div class="row justify-content-center">
        <div class="col-11">
          <p class="text-h2">Explore the most important issues in Sweden today</p>
          <br /><br />

          <iframe src='https://flo.uri.sh/story/1638348/embed#slide-7' title='Interactive or visual content' class='flourish-embed-iframe' frameborder='0' scrolling='no' style='width:100%;height:600px;' sandbox='allow-same-origin allow-forms allow-scripts allow-downloads allow-popups allow-popups-to-escape-sandbox allow-top-navigation-by-user-activation'></iframe>


        <zero-md src="outro.md">
          <template>
            <link rel="stylesheet" href="../assets/main.css" />
          </template>
        </zero-md>
      </div>
    </div>

    <script
      src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns"
      crossorigin="anonymous"
    ></script>
    <script src="https://unpkg.com/d3@5.9.1/dist/d3.min.js"></script>
    <script src="https://unpkg.com/intersection-observer"></script>
    <script src="https://unpkg.com/scrollama"></script>
    <script src="https://public.flourish.studio/resources/embed.js"></script>

    <script>
      var scrolly = d3.select("#scrolly__section");
      var chart = scrolly.select(".scrolly__chart");
      var content = scrolly.select(".scrolly__content");
      var step = content.selectAll(".step");
      var linkHead = "https://flo.uri.sh/story/1638348/embed#slide-";

      // initialize the scrollama
      var scroller = scrollama();

      // generic window resize listener event
      function handleResize() {
        // 1. update height of step elements
        var stepH = Math.floor(window.innerHeight * 1);
        step.style("height", stepH + "px");

        var figureHeight = window.innerHeight * 0.8;
        // step above the chart
        var figureMarginTop = window.innerHeight - figureHeight;

        chart
          .style("height", figureHeight + "px")
          .style("top", figureMarginTop + "px");

        // 3. tell scrollama to update new element dimensions
        scroller.resize();
      }

      // scrollama event handlers
      function handleStepEnter(response) {
        const textblock = step.select(".text-block");

        // add color to current step only
        textblock.classed("is-active", function (d, i) {
          return i === response.index;
        });

        // update graphic based on step
        slide = response.index;
        d3.select(".scrolly__chart iframe").attr("src", linkHead + slide);
      }

      function setupStickyfill() {
        d3.selectAll(".sticky").each(function () {
          Stickyfill.add(this);
        });
      }

      function init() {
        setupStickyfill();
        handleResize();
        scroller
          .setup({
            step: "#scrolly__section .scrolly__content .step",
            progress: true,
            offset: 0.7,
            debug: false,
          })
          .onStepEnter(handleStepEnter);

        // setup resize event
        window.addEventListener("resize", handleResize);
      }

      init();
    </script>
  </body>
</html>
